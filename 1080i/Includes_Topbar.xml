<?xml version="1.0" encoding="UTF-8"?>
<includes>
    <!-- ====== -->
    <!-- Common -->
    <!-- ====== -->
    <include name="Topbar_HomeMenu_Item">
        <control type="togglebutton">
            <width>auto</width>
            <align>left</align>
            <height>view_pad</height>
            <onfocus>SetFocus($PARAM[id],$PARAM[pos])</onfocus>
            <onclick>$INFO[Container($PARAM[id]).ListItemAbsolute($PARAM[pos]).Property(path)]</onclick>
            <usealttexture>Control.HasFocus($PARAM[id]) + String.IsEqual(Container($PARAM[id]).ListItemAbsolute($PARAM[pos]).Label,Container($PARAM[id]).ListItem.Label)</usealttexture>
            <font>font_topbar_small</font>
            <textcolor>Selected</textcolor>
            <textoffsetx>1</textoffsetx>
            <animation effect="fade" start="100" end="33" condition="!String.IsEqual(Container($PARAM[id]).ListItemAbsolute($PARAM[pos]).Label,Container($PARAM[id]).ListItem.Label)">Conditional</animation>
            <texturenofocus />
            <texturefocus colordiffuse="$VAR[ColorHighlight]" border="8">common/underline2.png</texturefocus>
            <alttexturenofocus colordiffuse="$VAR[ColorHighlight]" border="8">common/underline2.png</alttexturenofocus>
            <alttexturefocus colordiffuse="$VAR[ColorHighlight]" border="8">common/underline2.png</alttexturefocus>
            <label>$INFO[Container($PARAM[id]).ListItemAbsolute($PARAM[pos]).Label]</label>
            <visible>!String.IsEqual(Container($PARAM[id]).ListItemAbsolute($PARAM[pos]).Label,Container($PARAM[id]).ListItem.Label)</visible>
        </control>
        <control type="togglebutton">
            <width>auto</width>
            <align>left</align>
            <height>view_pad</height>
            <onfocus>SetFocus($PARAM[id],$PARAM[pos])</onfocus>
            <onclick>$INFO[Container($PARAM[id]).ListItemAbsolute($PARAM[pos]).Property(path)]</onclick>
            <usealttexture>Control.HasFocus($PARAM[id]) + String.IsEqual(Container($PARAM[id]).ListItemAbsolute($PARAM[pos]).Label,Container($PARAM[id]).ListItem.Label)</usealttexture>
            <font>font_topbar</font>
            <textcolor>Selected</textcolor>
            <textoffsetx>1</textoffsetx>
            <animation effect="fade" start="100" end="33" condition="!String.IsEqual(Container($PARAM[id]).ListItemAbsolute($PARAM[pos]).Label,Container($PARAM[id]).ListItem.Label)">Conditional</animation>
            <texturenofocus />
            <texturefocus colordiffuse="$VAR[ColorHighlight]" border="8">common/underline2.png</texturefocus>
            <alttexturenofocus colordiffuse="$VAR[ColorHighlight]" border="8">common/underline2.png</alttexturenofocus>
            <alttexturefocus colordiffuse="$VAR[ColorHighlight]" border="8">common/underline2.png</alttexturefocus>
            <label>$INFO[Container($PARAM[id]).ListItemAbsolute($PARAM[pos]).Label]</label>
            <visible>String.IsEqual(Container($PARAM[id]).ListItemAbsolute($PARAM[pos]).Label,Container($PARAM[id]).ListItem.Label)</visible>
        </control>
    </include>

    <include name="Topbar_HomeMenu_Item_Gradient">
        <control type="togglebutton">
            <width>auto</width>
            <align>left</align>
            <height>view_pad</height>
            <onfocus>SetFocus($PARAM[id],$PARAM[pos])</onfocus>
            <onclick>$INFO[Container($PARAM[id]).ListItemAbsolute($PARAM[pos]).Property(path)]</onclick>
            <usealttexture>Control.HasFocus($PARAM[id]) + String.IsEqual(Container($PARAM[id]).ListItemAbsolute($PARAM[pos]).Label,Container($PARAM[id]).ListItem.Label)</usealttexture>
            <font>font_topbar_small</font>
            <textcolor>00ffffff</textcolor>
            <textoffsetx>1</textoffsetx>
            <animation effect="fade" start="100" end="33" condition="!String.IsEqual(Container($PARAM[id]).ListItemAbsolute($PARAM[pos]).Label,Container($PARAM[id]).ListItem.Label)">Conditional</animation>
            <texturenofocus />
            <texturefocus colordiffuse="$VAR[ColorHighlight]" border="8">common/underline2.png</texturefocus>
            <alttexturenofocus colordiffuse="$VAR[ColorHighlight]" border="8">common/underline2.png</alttexturenofocus>
            <alttexturefocus colordiffuse="$VAR[ColorHighlight]" border="8">common/underline2.png</alttexturefocus>
            <label>$INFO[Container($PARAM[id]).ListItemAbsolute($PARAM[pos]).Label]</label>
            <visible>!String.IsEqual(Container($PARAM[id]).ListItemAbsolute($PARAM[pos]).Label,Container($PARAM[id]).ListItem.Label)</visible>
        </control>
        <control type="togglebutton">
            <width>auto</width>
            <align>left</align>
            <height>view_pad</height>
            <onfocus>SetFocus($PARAM[id],$PARAM[pos])</onfocus>
            <onclick>$INFO[Container($PARAM[id]).ListItemAbsolute($PARAM[pos]).Property(path)]</onclick>
            <usealttexture>Control.HasFocus($PARAM[id]) + String.IsEqual(Container($PARAM[id]).ListItemAbsolute($PARAM[pos]).Label,Container($PARAM[id]).ListItem.Label)</usealttexture>
            <font>font_topbar</font>
            <textcolor>00ffffff</textcolor>
            <textoffsetx>1</textoffsetx>
            <animation effect="fade" start="100" end="33" condition="!String.IsEqual(Container($PARAM[id]).ListItemAbsolute($PARAM[pos]).Label,Container($PARAM[id]).ListItem.Label)">Conditional</animation>
            <texturenofocus />
            <texturefocus colordiffuse="$VAR[ColorHighlight2]" border="8" diffuse="common/gradient-diffuse-horizontal.png">common/underline2.png</texturefocus>
            <alttexturenofocus colordiffuse="$VAR[ColorHighlight2]" border="8" diffuse="common/gradient-diffuse-horizontal.png">common/underline2.png</alttexturenofocus>
            <alttexturefocus colordiffuse="$VAR[ColorHighlight2]" border="8" diffuse="common/gradient-diffuse-horizontal.png">common/underline2.png</alttexturefocus>
            <label>$INFO[Container($PARAM[id]).ListItemAbsolute($PARAM[pos]).Label]</label>
            <visible>String.IsEqual(Container($PARAM[id]).ListItemAbsolute($PARAM[pos]).Label,Container($PARAM[id]).ListItem.Label)</visible>
        </control>
    </include>

    <include name="Topbar_Home_Dim">
        <control type="image">
            <height>240</height>
            <texture>common/gradient-top.png</texture>
            <visible>Container(330).HasPrevious</visible>
            <animation effect="fade" start="0" end="100" time="200" reversible="false">Visible</animation>
            <animation effect="fade" end="0" start="100" time="1000" reversible="false">Hidden</animation>
            <animation effect="fade" end="0" start="100" time="350" reversible="false">WindowClose</animation>
            <animation effect="fade" start="0" end="100" time="200" reversible="false">WindowOpen</animation>
        </control>
    </include>

    <include name="Topbar">
        <control type="group">
            <visible>!$EXP[Exp_Info_Visible]</visible>
            <visible allowhiddenfocus="true">!Control.HasFocus(9602)</visible>
            <!-- Darker bar when scrolling home -->
            <include condition="Window.IsVisible(Home)">Topbar_Home_Dim</include>
            <control type="group">
                <top>30</top>
                <animation type="Conditional" condition="Control.IsVisible(430)" reversible="false">
                    <effect type="slide" end="0,20" time="60" tween="sine" />
                    <effect type="slide" end="0,-20" time="180" tween="sine" delay="80" />
                </animation>
                <control type="group">
                    <height>view_pad</height>
                    <!-- Left Info -->
                    <control type="grouplist">
                        <visible allowhiddenfocus="true">![Control.HasFocus(9601) | [System.IdleTime(4) + Skin.HasSetting(AutoPlotOverlay) + [Window.IsVisible(MyVideoNav.xml) | Window.IsVisible(MyMusicNav.xml) | Window.IsVisible(Home)] + ![Window.IsVisible(DialogVideoInfo.xml) | Window.IsVisible(DialogMusicInfo.xml) | Window.IsVisible(DialogAddonInfo.xml)]]]</visible>
                        <include>Animation_FadeInOut</include>
                        <itemgap>0</itemgap>
                        <left>view_pad</left>
                        <align>left</align>
                        <orientation>horizontal</orientation>
                        <usecontrolcoords>true</usecontrolcoords>
                        <visible>!Control.HasFocus(8001)</visible>
                        <control type="button">
                            <centertop>51%</centertop>
                            <width>36</width>
                            <height>36</height>
                            <onclick>Back</onclick>
                            <texturenofocus colordiffuse="main_fg_100" flipx="true">common/arrow-48.png</texturenofocus>
                            <texturefocus colordiffuse="$VAR[ColorHighlight]" flipx="true">common/arrow-48.png</texturefocus>
                            <visible>Skin.HasSetting(MouseMode) + ![Window.IsVisible(script-globalsearch.xml) | Window.IsVisible(Home)]</visible>
                        </control>
                        <control type="group">
                            <width>32</width>
                            <visible>Skin.HasSetting(MouseMode) + ![Window.IsVisible(script-globalsearch.xml) | Window.IsVisible(Home)]</visible>
                        </control>
                        <control type="label">
                            <top>0</top>
                            <width max="1140">auto</width>
                            <font>font_topbar</font>
                            <textcolor>main_fg_100</textcolor>
                            <label>$VAR[Label_Header_Content]</label>
                            <visible>![Window.IsVisible(script-globalsearch.xml) | Window.IsVisible(Home)] | Window.IsVisible(script-script.extendedinfo-VideoList.xml)</visible>
                            <visible>!Control.HasFocus(300)</visible>
                        </control>
                        <control type="label">
                            <top>0</top>
                            <width>auto</width>
                            <font>font_topbar</font>
                            <textcolor>main_fg_100</textcolor>
                            <label max="1140">$INFO[Container(300).ListItem.Label]</label>
                            <visible>![Window.IsVisible(script-globalsearch.xml) | Window.IsVisible(Home)]</visible>
                            <visible>Control.HasFocus(300)</visible>
                        </control>
                    </control>
                    
                    <include condition="![Window.IsVisible(script-globalsearch.xml) | Window.IsVisible(Home)]">Topbar_Menu</include>
                    <!-- <include condition="[Window.IsVisible(MyVideoNav.xml) | Window.IsVisible(MyMusicNav.xml)] + Skin.HasSetting(AlphabetStrip)">Object_AlphabetStrip</include> -->

                    <!-- Right Info -->
                    <control type="grouplist">
                        <visible>!Window.IsVisible(DialogNotification.xml)</visible>
                        <visible>!Window.IsVisible(DialogExtendedProgressBar.xml)</visible>
                        <visible>!Window.IsVisible(DialogVolumeBar.xml) | Player.Muted</visible>
                        <visible>!Skin.HasSetting(MinimalBusyLoader) | [Skin.HasSetting(MinimalBusyLoader) + !Window.IsVisible(DialogBusy.xml)]</visible>
                        <right>view_pad</right>
                        <align>right</align>
                        <orientation>horizontal</orientation>
                        <itemgap>0</itemgap>
                        <width>700</width>
                        <usecontrolcoords>true</usecontrolcoords>
                        <control type="group">
                            <visible>!Control.HasFocus(60)</visible>
                            <width>view_pad</width>
                            <visible>![Window.IsVisible(script-script.extendedinfo-DialogVideoInfo.xml) | Window.IsVisible(script-script.extendedinfo-DialogInfo.xml) | Window.IsVisible(DialogVideoInfo.xml) | Window.IsVisible(DialogMusicInfo.xml) | Window.IsVisible(DialogAddonInfo.xml)]</visible>
                            <visible>!Control.HasFocus(300) | Window.IsVisible(Home)</visible>
                            <visible>[String.IsEmpty(Window(10025).Property(PlayingBackgroundMedia)) + Player.HasMedia]</visible>
                            <include>Animation_FadeIn_Delay</include>
                            <control type="multiimage">
                                <centertop>50%</centertop>
                                <imagepath colordiffuse="$VAR[ColorHighlight]">eq</imagepath>
                                <width>40</width>
                                <height>23</height>
                                <fadetime>50</fadetime>
                                <timeperimage>50</timeperimage>
                                <visible>!Player.Paused + !Player.Caching</visible>
                            </control>
                            <control type="image">
                                <centertop>50%</centertop>
                                <centerleft>50%</centerleft>
                                <texture colordiffuse="main_fg_100">osd/pause.png</texture>
                                <width>32</width>
                                <height>32</height>
                                <fadetime>50</fadetime>
                                <visible>Player.Paused + !Player.Caching</visible>
                            </control>
                            <control type="image">
                                <centertop>50%</centertop>
                                <left>-16</left>
                                <texture colordiffuse="main_fg_100">special://skin/extras/icons/download.png</texture>
                                <width>64</width>
                                <height>64</height>
                                <fadetime>50</fadetime>
                                <visible>Player.Caching</visible>
                            </control>
                            <visible>Player.HasMedia</visible>
                        </control>
                        <control type="label">
                            <width max="350">auto</width>
                            <font>font_small</font>
                            <textcolor>main_fg_100</textcolor>
                            <label>$INFO[Player.Title]</label>
                            <visible>Player.HasMedia</visible>
                            <visible>[String.IsEmpty(Window(10025).Property(PlayingBackgroundMedia)) + Player.HasMedia]</visible>
                            <visible>![Window.IsVisible(script-script.extendedinfo-DialogVideoInfo.xml) | Window.IsVisible(script-script.extendedinfo-DialogInfo.xml) | Window.IsVisible(DialogVideoInfo.xml) | Window.IsVisible(DialogMusicInfo.xml) | Window.IsVisible(DialogAddonInfo.xml)]</visible>
                            <visible>!Control.HasFocus(300) | Window.IsVisible(Home)</visible>
                            <include>Animation_FadeIn_Delay</include>
                            <visible>!Control.HasFocus(60)</visible>
                        </control>
                        <control type="label">
                            <width>auto</width>
                            <font>font_small</font>
                            <textcolor>$VAR[ColorHighlight]</textcolor>
                            <label>  |  </label>
                            <visible>Player.HasMedia</visible>
                            <visible>![Window.IsVisible(script-script.extendedinfo-DialogVideoInfo.xml) | Window.IsVisible(script-script.extendedinfo-DialogInfo.xml) | Window.IsVisible(DialogVideoInfo.xml) | Window.IsVisible(DialogMusicInfo.xml) | Window.IsVisible(DialogAddonInfo.xml)]</visible>
                            <visible>!Control.HasFocus(300) | Window.IsVisible(Home)</visible>
                            <visible>!Control.HasFocus(60)</visible>
                        </control>
                        <control type="group">
                            <visible>!Control.HasFocus(60)</visible>
                            <width>view_pad</width>
                            <control type="image">
                                <centertop>50%</centertop>
                                <height>40</height>
                                <aspectratio>keep</aspectratio>
                                <texture colordiffuse="main_fg_100">$INFO[Weather.FanartCode,resource://resource.images.weathericons.white/,.png]</texture>
                            </control>
                            <visible>Weather.IsFetched</visible>
                            <visible>!Player.HasMedia | [Window.IsVisible(script-script.extendedinfo-DialogVideoInfo.xml) | Window.IsVisible(script-script.extendedinfo-DialogInfo.xml) | Window.IsVisible(DialogVideoInfo.xml) | Window.IsVisible(DialogMusicInfo.xml) | Window.IsVisible(DialogAddonInfo.xml)] | [Control.HasFocus(300) + !Window.IsVisible(Home)]</visible>
                        </control>
                        <control type="label">
                            <visible>!Control.HasFocus(60)</visible>
                            <width>auto</width>
                            <font>font_small</font>
                            <textcolor>main_fg_100</textcolor>
                            <label>$INFO[Weather.Temperature]</label>
                            <visible>Weather.IsFetched</visible>
                            <visible>!Player.HasMedia | [Window.IsVisible(script-script.extendedinfo-DialogVideoInfo.xml) | Window.IsVisible(script-script.extendedinfo-DialogInfo.xml) | Window.IsVisible(DialogVideoInfo.xml) | Window.IsVisible(DialogMusicInfo.xml) | Window.IsVisible(DialogAddonInfo.xml)] | [Control.HasFocus(300) + !Window.IsVisible(Home)]</visible>
                        </control>
                        <control type="label">
                            <visible>!Control.HasFocus(60)</visible>
                            <width>auto</width>
                            <font>font_small</font>
                            <textcolor>$VAR[ColorHighlight]</textcolor>
                            <label>  |  </label>
                            <visible>!String.IsEmpty(Weather.Temperature)</visible>
                            <visible>Weather.IsFetched</visible>
                            <visible>!Player.HasMedia | [Window.IsVisible(script-script.extendedinfo-DialogVideoInfo.xml) | Window.IsVisible(script-script.extendedinfo-DialogInfo.xml) | Window.IsVisible(DialogVideoInfo.xml) | Window.IsVisible(DialogMusicInfo.xml) | Window.IsVisible(DialogAddonInfo.xml)] | [Control.HasFocus(300) + !Window.IsVisible(Home)]</visible>
                        </control>
                        <control type="label">
                            <width>auto</width>
                            <font>font_small</font>
                            <textcolor>main_fg_100</textcolor>
                            <label>$INFO[System.Time]</label>
                            <visible>!Control.HasFocus(60)</visible>
                        </control>
                        <control type="label">
                            <visible>Control.HasFocus(60)</visible>
                            <width>auto</width>
                            <font>font_small</font>
                            <textcolor>main_fg_100</textcolor>
                            <label>$INFO[Container.NumItems,, $LOCALIZE[31101]]</label>
                        </control>
                        <control type="label">
                            <visible>Control.HasFocus(60)</visible>
                            <width>auto</width>
                            <font>font_small</font>
                            <textcolor>$VAR[ColorHighlight]</textcolor>
                            <label>  |  </label>
                        </control>
                        <control type="label">
                            <visible>Control.HasFocus(60)</visible>
                            <width>auto</width>
                            <font>font_small</font>
                            <textcolor>main_fg_100</textcolor>
                            <label>$INFO[Container.CurrentPage,$LOCALIZE[31391] , $LOCALIZE[20163] ]$INFO[Container.NumPages]</label>
                        </control>
                        <control type="image">
                            <centertop>50%</centertop>
                            <aspectratio align="right">keep</aspectratio>
                            <texture colordiffuse="main_fg_100">special://skin/extras/icons/mute.png</texture>
                            <width>74</width>
                            <height>74</height>
                            <fadetime>50</fadetime>
                            <visible>Player.Muted</visible>
                        </control>
                    </control>
                </control>
                <control type="group">
                    <visible allowhiddenfocus="true">![Control.HasFocus(9601) | [System.IdleTime(4) + Skin.HasSetting(AutoPlotOverlay) + [Window.IsVisible(MyVideoNav.xml) | Window.IsVisible(MyMusicNav.xml) | Window.IsVisible(Home)] + ![Window.IsVisible(DialogVideoInfo.xml) | Window.IsVisible(DialogMusicInfo.xml) | Window.IsVisible(DialogAddonInfo.xml)]]]</visible>
                    <include>Animation_FadeInOut</include>
                    <include condition="Window.IsVisible(Home) + !Window.IsVisible(script-globalsearch.xml)">Topbar_Home_TextButtons</include>
                    <include condition="Window.IsVisible(script-globalsearch.xml)">Topbar_GlobalSearch_TextButtons</include>
                </control>
            </control>
        </control>
    </include>

    <include name="Topbar_Home_TextButtons">
        <control type="group">
            <visible>Control.HasFocus(302)</visible>
            <visible>Skin.HasSetting(HideSubmenuWidget)</visible>
            <animation type="Visible">
                <effect type="fade" start="0" end="100" time="200" tween="sine" easing="in" delay="200" />
                <effect type="slide" start="0,-30" end="0,0" time="250" tween="sine" easing="out" delay="200" />
            </animation>
            <animation type="Hidden">
                <effect type="fade" start="100" end="0" time="150" tween="sine" easing="out" />
                <effect type="slide" start="0,0" end="0,-30" time="200" tween="sine" easing="out" />
            </animation>
            <control type="grouplist">
                <itemgap>30</itemgap>
                <height>view_pad</height>
                <left>view_pad</left>
                <orientation>horizontal</orientation>
                <visible>Window.IsVisible(Home) + !$EXP[Exp_Info_Visible]</visible>
                <usecontrolcoords>true</usecontrolcoords>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="302" />
                    <param name="pos" value="0" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="302" />
                    <param name="pos" value="1" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="302" />
                    <param name="pos" value="2" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="302" />
                    <param name="pos" value="3" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="302" />
                    <param name="pos" value="4" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="302" />
                    <param name="pos" value="5" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="302" />
                    <param name="pos" value="6" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="302" />
                    <param name="pos" value="7" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="302" />
                    <param name="pos" value="8" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="302" />
                    <param name="pos" value="9" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="302" />
                    <param name="pos" value="10" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="302" />
                    <param name="pos" value="11" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="302" />
                    <param name="pos" value="12" />
                </include>
            </control>
            <control type="grouplist">
                <itemgap>30</itemgap>
                <height>view_pad</height>
                <left>view_pad</left>
                <orientation>horizontal</orientation>
                <visible>Window.IsVisible(Home) + !$EXP[Exp_Info_Visible]</visible>
                <usecontrolcoords>true</usecontrolcoords>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="302" />
                    <param name="pos" value="0" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="302" />
                    <param name="pos" value="1" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="302" />
                    <param name="pos" value="2" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="302" />
                    <param name="pos" value="3" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="302" />
                    <param name="pos" value="4" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="302" />
                    <param name="pos" value="5" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="302" />
                    <param name="pos" value="6" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="302" />
                    <param name="pos" value="7" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="302" />
                    <param name="pos" value="8" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="302" />
                    <param name="pos" value="9" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="302" />
                    <param name="pos" value="10" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="302" />
                    <param name="pos" value="11" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="302" />
                    <param name="pos" value="12" />
                </include>
            </control>
        </control>
        <control type="group">
            <visible>!Control.HasFocus(302) | !Skin.HasSetting(HideSubmenuWidget)</visible>
            <animation type="Visible">
                <effect type="fade" start="0" end="100" time="200" tween="sine" easing="in" delay="200" />
                <effect type="slide" start="0,-30" end="0,0" time="250" tween="sine" easing="out" delay="200" />
            </animation>
            <animation type="Hidden">
                <effect type="fade" start="100" end="0" time="150" tween="sine" easing="out" />
                <effect type="slide" start="0,0" end="0,-30" time="200" tween="sine" easing="out" />
            </animation>
            <control type="grouplist">
                <itemgap>30</itemgap>
                <height>view_pad</height>
                <left>view_pad</left>
                <orientation>horizontal</orientation>
                <visible>Window.IsVisible(Home) + !$EXP[Exp_Info_Visible]</visible>
                <usecontrolcoords>true</usecontrolcoords>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="300" />
                    <param name="pos" value="0" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="300" />
                    <param name="pos" value="1" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="300" />
                    <param name="pos" value="2" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="300" />
                    <param name="pos" value="3" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="300" />
                    <param name="pos" value="4" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="300" />
                    <param name="pos" value="5" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="300" />
                    <param name="pos" value="6" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="300" />
                    <param name="pos" value="7" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="300" />
                    <param name="pos" value="8" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="300" />
                    <param name="pos" value="9" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="300" />
                    <param name="pos" value="10" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="300" />
                    <param name="pos" value="11" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="300" />
                    <param name="pos" value="12" />
                </include>
            </control>
            <control type="grouplist">
                <itemgap>30</itemgap>
                <height>view_pad</height>
                <left>view_pad</left>
                <orientation>horizontal</orientation>
                <visible>Window.IsVisible(Home) + !$EXP[Exp_Info_Visible]</visible>
                <usecontrolcoords>true</usecontrolcoords>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="300" />
                    <param name="pos" value="0" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="300" />
                    <param name="pos" value="1" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="300" />
                    <param name="pos" value="2" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="300" />
                    <param name="pos" value="3" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="300" />
                    <param name="pos" value="4" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="300" />
                    <param name="pos" value="5" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="300" />
                    <param name="pos" value="6" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="300" />
                    <param name="pos" value="7" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="300" />
                    <param name="pos" value="8" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="300" />
                    <param name="pos" value="9" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="300" />
                    <param name="pos" value="10" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="300" />
                    <param name="pos" value="11" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="300" />
                    <param name="pos" value="12" />
                </include>
            </control>
        </control>
    </include>

    <include name="Topbar_GlobalSearch_Icon">
        <control type="group">
            <left>-10</left>
            <top>1</top>
            <height>view_pad</height>
            <width>view_pad</width>
            <control type="image">
                <texture colordiffuse="main_fg_100">special://skin/extras/icons/search.png</texture>
                <visible>$PARAM[visible]</visible>
            </control>
            <control type="image">
                <texture colordiffuse="$VAR[ColorHighlight]" border="8">common/underline2.png</texture>
                <visible>$PARAM[visible]</visible>
                <visible>Control.HasFocus(990)</visible>
            </control>
            <control type="image">
                <texture colordiffuse="$VAR[ColorHighlight2]" border="8" diffuse="common/gradient-diffuse-horizontal.png">common/underline2.png</texture>
                <visible>$PARAM[visible]</visible>
                <visible>Control.HasFocus(990)</visible>
            </control>
        </control>
        <control type="group">
            <width>-40</width>
        </control>
    </include>

    <include name="Topbar_GlobalSearch_TextButtons">
        <control type="group">
            <animation type="Visible">
                <effect type="fade" start="0" end="100" time="200" tween="sine" easing="in" delay="200" />
                <effect type="slide" start="0,-30" end="0,0" time="250" tween="sine" easing="out" delay="200" />
            </animation>
            <animation type="Hidden">
                <effect type="fade" start="100" end="0" time="150" tween="sine" easing="out" />
                <effect type="slide" start="0,0" end="0,-30" time="200" tween="sine" easing="out" />
            </animation>
            <control type="grouplist">
                <itemgap>30</itemgap>
                <height>view_pad</height>
                <left>view_pad</left>
                <orientation>horizontal</orientation>
                <visible>Window.IsVisible(script-globalsearch.xml) + !$EXP[Exp_Info_Visible]</visible>
                <usecontrolcoords>true</usecontrolcoords>
                <include content="Topbar_GlobalSearch_Icon">
                    <param name="visible" value="true" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="9000" />
                    <param name="pos" value="0" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="9000" />
                    <param name="pos" value="1" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="9000" />
                    <param name="pos" value="2" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="9000" />
                    <param name="pos" value="3" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="9000" />
                    <param name="pos" value="4" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="9000" />
                    <param name="pos" value="5" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="9000" />
                    <param name="pos" value="6" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="9000" />
                    <param name="pos" value="7" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="9000" />
                    <param name="pos" value="8" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="9000" />
                    <param name="pos" value="9" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="9000" />
                    <param name="pos" value="10" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="9000" />
                    <param name="pos" value="11" />
                </include>
                <include content="Topbar_HomeMenu_Item">
                    <param name="id" value="9000" />
                    <param name="pos" value="12" />
                </include>
            </control>
            <control type="grouplist">
                <itemgap>30</itemgap>
                <height>view_pad</height>
                <left>view_pad</left>
                <orientation>horizontal</orientation>
                <visible>Window.IsVisible(script-globalsearch.xml) + !$EXP[Exp_Info_Visible]</visible>
                <usecontrolcoords>true</usecontrolcoords>
                <include content="Topbar_GlobalSearch_Icon">
                    <param name="visible" value="false" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="9000" />
                    <param name="pos" value="0" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="9000" />
                    <param name="pos" value="1" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="9000" />
                    <param name="pos" value="2" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="9000" />
                    <param name="pos" value="3" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="9000" />
                    <param name="pos" value="4" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="9000" />
                    <param name="pos" value="5" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="9000" />
                    <param name="pos" value="6" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="9000" />
                    <param name="pos" value="7" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="9000" />
                    <param name="pos" value="8" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="9000" />
                    <param name="pos" value="9" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="9000" />
                    <param name="pos" value="10" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="9000" />
                    <param name="pos" value="11" />
                </include>
                <include content="Topbar_HomeMenu_Item_Gradient">
                    <param name="id" value="9000" />
                    <param name="pos" value="12" />
                </include>
            </control>
        </control>
    </include>

    <include name="Topbar_Info">
        <control type="group">
            <control type="group">
                <top>30</top>
                <control type="group">
                    <height>view_pad</height>
                    <!-- Left Info -->
                    <control type="grouplist">
                        <itemgap>0</itemgap>
                        <left>view_pad</left>
                        <align>left</align>
                        <visible allowhiddenfocus="true">![Control.HasFocus(9601) | [System.IdleTime(4) + Skin.HasSetting(AutoPlotOverlay) + [Window.IsVisible(MyVideoNav.xml) | Window.IsVisible(MyMusicNav.xml) | Window.IsVisible(Home)] + ![Window.IsVisible(DialogVideoInfo.xml) | Window.IsVisible(DialogMusicInfo.xml) | Window.IsVisible(DialogAddonInfo.xml)]]]</visible>
                        <include>Animation_FadeInOut</include>
                        <orientation>horizontal</orientation>
                        <usecontrolcoords>true</usecontrolcoords>
                        <control type="label">
                            <top>0</top>
                            <width>auto</width>
                            <font>font_topbar</font>
                            <textcolor>main_fg_100</textcolor>
                            <label>$VAR[Label_Header_Content]</label>
                            <visible>!Control.HasFocus(300)</visible>
                        </control>
                        <control type="label">
                            <top>0</top>
                            <width>auto</width>
                            <font>font_topbar</font>
                            <textcolor>main_fg_100</textcolor>
                            <label>$INFO[Container(300).ListItem.Label]</label>
                            <visible>Control.HasFocus(300)</visible>
                        </control>
                    </control>
                
                    <!-- Right Info -->
                    <control type="grouplist">
                        <right>view_pad</right>
                        <align>right</align>
                        <orientation>horizontal</orientation>
                        <itemgap>0</itemgap>
                        <visible>!Window.IsVisible(DialogNotification.xml)</visible>
                        <visible>!Window.IsVisible(DialogExtendedProgressBar.xml)</visible>
                        <visible>!Window.IsVisible(DialogVolumeBar.xml) | Player.Muted</visible>
                        <visible>!Skin.HasSetting(MinimalBusyLoader) | [Skin.HasSetting(MinimalBusyLoader) + !Window.IsVisible(DialogBusy.xml)]</visible>
                        <control type="group">
                            <width>view_pad</width>
                            <control type="image">
                                <centertop>50%</centertop>
                                <height>40</height>
                                <aspectratio>keep</aspectratio>
                                <texture colordiffuse="main_fg_100">$INFO[Weather.FanartCode,resource://resource.images.weathericons.white/,.png]</texture>
                            </control>
                            <visible>Weather.IsFetched</visible>
                        </control>
                        <control type="label">
                            <width>auto</width>
                            <font>font_small</font>
                            <textcolor>main_fg_100</textcolor>
                            <label>$INFO[Weather.Temperature]</label>
                            <visible>Weather.IsFetched</visible>
                        </control>
                        <control type="label">
                            <width>auto</width>
                            <font>font_small</font>
                            <textcolor>$VAR[ColorHighlight]</textcolor>
                            <label>  |  </label>
                            <visible>!String.IsEmpty(Weather.Temperature)</visible>
                            <visible>Weather.IsFetched</visible>
                        </control>
                        <control type="label">
                            <width>auto</width>
                            <font>font_small</font>
                            <textcolor>main_fg_100</textcolor>
                            <label>$INFO[System.Time]</label>
                        </control>
                    </control>
                </control>
            </control>
        </control>
    </include>

    <include name="Topbar_Menu">
        <control type="list" id="300">
            <include>Topbar_Menu_Layout</include>
            <include condition="Window.IsVisible(Home) + !Window.IsVisible(script-globalsearch-main.xml)">Items_MainMenu</include>
            <include condition="[Window.IsVisible(MyPVRChannels.xml) | Window.IsVisible(MyPVRGuide.xml) | Window.IsVisible(MyPVRRecordings.xml) | Window.IsVisible(MyPVRTimers.xml) | Window.IsVisible(MyPVRSearch.xml) | Window.IsVisible(AddonBrowser.xml) | Window.IsVisible(MyPrograms.xml) | Window.IsVisible(MyPics.xml) | Window.IsVisible(MyMusicNav.xml) | Window.IsVisible(MyVideoNav.xml)] + !Window.IsVisible(script-globalsearch-main.xml)">Items_View</include>
            <include condition="Window.IsVisible(MyPlaylist.xml) + !Window.IsVisible(script-globalsearch-main.xml)">Items_Playlist</include>
            <include condition="[Window.IsVisible(SettingsSystemInfo.xml) | Window.IsVisible(Settings.xml) | Window.IsVisible(SettingsCategory.xml) | Window.IsVisible(SkinSettings.xml) | Window.IsVisible(SettingsProfile.xml)] + !Window.IsVisible(script-globalsearch-main.xml)">Items_Settings</include>
            <include condition="[Window.IsVisible(script-NextAired-TVGuide.xml) | Window.IsVisible(script-NextAired-TVGuide2.xml)] + !Window.IsVisible(script-globalsearch-main.xml)">Items_NextAired</include>
            <include condition="Window.IsVisible(script-globalsearch-main.xml)">Items_GlobalSearch</include>
            <include condition="Window.IsVisible(weather)">Items_Weather</include>
        </control>
    </include>

    <include name="Topbar_Menu_SettingsTrick_Button">
        <control type="button">
            <visible allowhiddenfocus="true">false</visible>
            <onfocus condition="!Window.IsActive(InterfaceSettings) + String.IsEqual(Container(300).ListItem.Property(path),ReplaceWindow(InterfaceSettings))">ReplaceWindow(InterfaceSettings)</onfocus>
            <onfocus condition="!Window.IsActive(SkinSettings) + String.IsEqual(Container(300).ListItem.Property(path),ReplaceWindow(SkinSettings))">ReplaceWindow(SkinSettings)</onfocus>
            <onfocus condition="!Window.IsActive(MediaSettings) + String.IsEqual(Container(300).ListItem.Property(path),ReplaceWindow(MediaSettings))">ReplaceWindow(MediaSettings)</onfocus>
            <onfocus condition="!Window.IsActive(PlayerSettings) + String.IsEqual(Container(300).ListItem.Property(path),ReplaceWindow(PlayerSettings))">ReplaceWindow(PlayerSettings)</onfocus>
            <onfocus condition="!Window.IsActive(SystemSettings) + String.IsEqual(Container(300).ListItem.Property(path),ReplaceWindow(SystemSettings))">ReplaceWindow(SystemSettings)</onfocus>
            <onfocus condition="!Window.IsActive(servicesettings) + String.IsEqual(Container(300).ListItem.Property(path),ReplaceWindow(servicesettings))">ReplaceWindow(servicesettings)</onfocus>
            <onfocus condition="!Window.IsActive(pvrsettings) + String.IsEqual(Container(300).ListItem.Property(path),ReplaceWindow(pvrsettings))">ReplaceWindow(pvrsettings)</onfocus>
            <onfocus condition="!Window.IsActive(systeminfo) + String.IsEqual(Container(300).ListItem.Property(path),ReplaceWindow(systeminfo))">ReplaceWindow(systeminfo)</onfocus>
            <onfocus condition="!Window.IsActive(Profiles) + String.IsEqual(Container(300).ListItem.Property(path),ReplaceWindow(Profiles))">ReplaceWindow(Profiles)</onfocus>
        </control>
    </include>

    <include name="Topbar_Menu_Layout">
        <animation effect="fade" start="0" end="100" time="350" tween="cubic" easing="inout" reversible="false">Visible</animation>
        <animation effect="fade" start="100" end="0" time="350" tween="cubic" easing="inout" reversible="false">Hidden</animation>
        <animation effect="slide" end="35" condition="Integer.IsLess(Container(300).NumItems,11)">Conditional</animation>
        <animation effect="slide" end="35" condition="Integer.IsLess(Container(300).NumItems,10)">Conditional</animation>
        <animation effect="slide" end="35" condition="Integer.IsLess(Container(300).NumItems,9)">Conditional</animation>
        <animation effect="slide" end="35" condition="Integer.IsLess(Container(300).NumItems,8)">Conditional</animation>
        <animation effect="slide" end="35" condition="Integer.IsLess(Container(300).NumItems,7)">Conditional</animation>
        <animation effect="slide" end="35" condition="Integer.IsLess(Container(300).NumItems,6)">Conditional</animation>
        <animation effect="slide" end="35" condition="Integer.IsLess(Container(300).NumItems,5)">Conditional</animation>
        <animation effect="slide" end="35" condition="Integer.IsLess(Container(300).NumItems,4)">Conditional</animation>
        <animation effect="slide" end="35" condition="Integer.IsLess(Container(300).NumItems,3)">Conditional</animation>
        <animation effect="slide" end="35" condition="Integer.IsLess(Container(300).NumItems,2)">Conditional</animation>
        <animation effect="slide" end="35" condition="Integer.IsLess(Container(300).NumItems,1)">Conditional</animation>
        <visible allowhiddenfocus="true">Control.HasFocus(300) | $PARAM[visible]</visible>
        <width>770</width>
        <focusposition>5</focusposition>
        <movement>5</movement>
        <centerleft>50%</centerleft>
        <orientation>horizontal</orientation>
        <onup condition="!Skin.HasSetting(DisablePressingUp)">9602</onup>
        <ondown condition="Window.IsVisible(SettingsCategory.xml)">3</ondown>
        <ondown condition="Window.IsVisible(SettingsProfile.xml)">4</ondown>
        <ondown condition="Window.IsVisible(SettingsSystemInfo.xml)">95</ondown>
        <ondown condition="Window.IsVisible(SkinSettings.xml)">9000</ondown>
        <ondown condition="Window.IsVisible(script-NextAired-TVGuide.xml) | Window.IsVisible(script-NextAired-TVGuide2.xml)">9500</ondown>
        <ondown>50</ondown>
        <height>120</height>
        <itemlayout width="70" height="view_pad">
            <control type="image">
                <centerleft>50%</centerleft>
                <width>view_pad</width>
                <texture colordiffuse="main_fg_30">$INFO[ListItem.Icon]</texture>
            </control>
        </itemlayout>
        <focusedlayout width="70" height="view_pad">
            <include condition="Window.IsVisible(SettingsCategory.xml) | Window.IsVisible(SettingsProfile.xml) | Window.IsVisible(SettingsSystemInfo.xml) | Window.IsVisible(SkinSettings.xml)">Topbar_Menu_SettingsTrick_Button</include>
            <control type="image">
                <visible>!Control.HasFocus(300)</visible>
                <centerleft>50%</centerleft>
                <width>view_pad</width>
                <texture colordiffuse="main_fg_30">$INFO[ListItem.Icon]</texture>
            </control>
            <control type="group">
                <visible>Control.HasFocus(300)</visible>
                <control type="group">
                    <centerleft>50%</centerleft>
                    <width>view_pad</width>
                    <control type="image">
                        <texture colordiffuse="$VAR[ColorHighlight]">common/white.png</texture>
                        <bottom>0</bottom>
                        <height>6</height>
                    </control>
                    <control type="image">
                        <texture colordiffuse="$VAR[ColorHighlight2]">common/gradient-diffuse-horizontal.png</texture>
                        <bottom>0</bottom>
                        <height>6</height>
                    </control>
                    <control type="image">
                        <texture colordiffuse="Selected">$INFO[ListItem.Icon]</texture>
                    </control>
                </control>
            </control>
        </focusedlayout>
    </include>

</includes>
